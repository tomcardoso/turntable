{"version":3,"file":null,"sources":["../lib/loadJS.js","../lib/loadCSS.js","../plugins/chart-tool/index.js","../plugins/jquery/index.js","../plugins/bootstrap/index.js","../plugins/tablesaw/index.js","../plugins/export.js","../src/index.js"],"sourcesContent":["/*! loadJS: load a JS file asynchronously. [c]2014 @scottjehl, Filament Group, Inc. (Based on http://goo.gl/REQGQ by Paul Irish). Licensed MIT */\nexport default function loadJS(src, cb) {\n  \"use strict\";\n  var ref = window.document.getElementsByTagName(\"script\")[0];\n  var script = window.document.createElement(\"script\");\n  script.src = src;\n  script.async = false;\n  script.defer = false;\n  ref.parentNode.insertBefore(script, ref);\n  if (cb && typeof(cb) === \"function\") {\n    script.onload = cb;\n  }\n  return script;\n}\n","/*! loadCSS: load a CSS file asynchronously. [c]2016 @scottjehl, Filament Group, Inc. Licensed MIT */\nexport function loadCSS(href, before, media) {\n  // Arguments explained:\n  // `href` [REQUIRED] is the URL for your CSS file.\n  // `before` [OPTIONAL] is the element the script should use as a reference for injecting our stylesheet <link> before\n  // By default, loadCSS attempts to inject the link after the last stylesheet or script in the DOM. However, you might desire a more specific location in your document.\n  // `media` [OPTIONAL] is the media type or query of the stylesheet. By default it will be 'all'\n  var doc = window.document;\n  var ss = doc.createElement('link');\n  var ref;\n  if (before) {\n    ref = before;\n  } else {\n    var refs = (doc.body || doc.getElementsByTagName('head')[0]).childNodes;\n    ref = refs[refs.length - 1];\n  }\n\n  var sheets = doc.styleSheets;\n  ss.rel = 'stylesheet';\n  ss.href = href;\n  // temporarily set media to something inapplicable to ensure it'll fetch without blocking render\n  ss.media = 'only x';\n\n  // wait until body is defined before injecting link. This ensures a non-blocking load in IE11.\n  function ready(cb) {\n    if (doc.body) {\n      return cb();\n    }\n    setTimeout(function() {\n      ready(cb);\n    });\n  }\n  // Inject link\n  // Note: the ternary preserves the existing behavior of 'before' argument, but we could choose to change the argument to 'after' in a later release and standardize on ref.nextSibling for all refs\n  // Note: `insertBefore` is used instead of `appendChild`, for safety re: http://www.paulirish.com/2011/surefire-dom-element-insertion/\n  ready(function() {\n    ref.parentNode.insertBefore(ss, (before ? ref : ref.nextSibling));\n  });\n  // A method (exposed on return object for external use) that mimics onload by polling document.styleSheets until it includes the new sheet.\n  var onloadcssdefined = function(cb) {\n    var resolvedHref = ss.href;\n    var i = sheets.length;\n    while (i--) {\n      if (sheets[i].href === resolvedHref) {\n        return cb();\n      }\n    }\n    setTimeout(function() {\n      onloadcssdefined(cb);\n    });\n  };\n\n  function loadCB() {\n    if (ss.addEventListener) {\n      ss.removeEventListener('load', loadCB);\n    }\n    ss.media = media || 'all';\n  }\n\n  // once loaded, set link's media back to `all` so that the stylesheet applies once it loads\n  if (ss.addEventListener) {\n    ss.addEventListener('load', loadCB);\n  }\n  ss.onloadcssdefined = onloadcssdefined;\n  onloadcssdefined(loadCB);\n  return ss;\n}\n\n/*! onloadCSS: adds onload support for asynchronous stylesheets loaded with loadCSS. [c]2016 @zachleat, Filament Group, Inc. Licensed MIT */\nexport function onloadCSS(ss, callback) {\n  var called;\n\n  function newcb() {\n    if (!called && callback) {\n      called = true;\n      callback.call(ss);\n    }\n  }\n  if (ss.addEventListener) {\n    ss.addEventListener('load', newcb);\n  }\n  if (ss.attachEvent) {\n    ss.attachEvent('onload', newcb);\n  }\n\n  // This code is for browsers that donâ€™t support onload\n  // No support for onload (it'll bind but never fire):\n  //\t* Android 4.3 (Samsung Galaxy S4, Browserstack)\n  //\t* Android 4.2 Browser (Samsung Galaxy SIII Mini GT-I8200L)\n  //\t* Android 2.3 (Pantech Burst P9070)\n\n  // Weak inference targets Android < 4.4\n  if ('isApplicationInstalled' in navigator && 'onloadcssdefined' in ss) {\n    ss.onloadcssdefined(newcb);\n  }\n}\n","import plugin from './plugin.json';\n\nexport default function() {\n\n  // some basic logic about how to decide which version to load\n\n  if (!plugin.versions) {\n    return null;\n  }\n\n  const pluginObj = {\n    name: plugin.name,\n    basepath: plugin.basepath,\n    priority: plugin.priority\n  };\n\n  const charts = window.__charttoolversion;\n\n  pluginObj.assets = charts ? plugin.versions[charts] : plugin.versions['1.0.2'];\n\n  return pluginObj;\n\n}\n","import plugin from \"./plugin.json\";\n\nexport default function() {\n\n  if (!plugin.versions) {\n    return null;\n  }\n\n  return {\n    name: plugin.name,\n    basepath: plugin.basepath,\n    priority: plugin.priority,\n    assets: plugin.versions[Object.keys(plugin.versions)[0]]\n  };\n\n}\n","import plugin from \"./plugin.json\";\n\nexport default function() {\n\n  if (!plugin.versions) {\n    return null;\n  }\n\n  return {\n    name: plugin.name,\n    basepath: plugin.basepath,\n    priority: plugin.priority,\n    assets: plugin.versions[Object.keys(plugin.versions)[0]]\n  };\n\n}\n","import plugin from \"./plugin.json\";\n\nexport default function() {\n\n  if (!plugin.versions) {\n    return null;\n  }\n\n  return {\n    name: plugin.name,\n    basepath: plugin.basepath,\n    priority: plugin.priority,\n    assets: plugin.versions[Object.keys(plugin.versions)[0]]\n  };\n\n}\n","import charttool from './chart-tool/index';\nimport jquery from './jquery/index';\nimport bootstrap from './bootstrap/index';\nimport tablesaw from './tablesaw/index';\n\nconst exports = [\n  charttool(),\n  jquery(),\n  bootstrap(),\n  tablesaw()\n];\n\n// might be unnecessary if we just take the implicit order from up above\n// exports.sort(function(a, b) {\n//   return a.priority - b.priority;\n// });\n\nexport default (function() {\n  return exports;\n})();\n","import loadJS from '../lib/loadJS';\nimport * as styles from '../lib/loadCSS';\nimport deps from '../plugins/export';\n\nexport default (function() {\n\n  const turntable = window.__turntable = window.__turntable || {\n    deps: deps,\n    loaded: []\n  };\n\n  var d = deps.length;\n\n  const headers = [],\n    footers = [];\n\n  while (d--) {\n    ['header', 'footer'].forEach(function(type) {\n      if (this.assets[type] && this.assets[type].length) {\n        let arr = type === 'header' ? headers : footers;\n        arr.push({\n          name: this.name,\n          basepath: this.basepath,\n          assets: this.assets[type]\n        });\n      }\n    }, deps[d]);\n  }\n\n  if (headers.length) {\n    loadAssets(headers, () => {\n      if (footers.length) {\n        // bind to some kind of domready event?\n        loadAssets(footers, noop);\n      }\n    });\n  } else if (footers.length) {\n    // bind to some kind of domready event?\n    loadAssets(footers, noop);\n  }\n\n})();\n\nfunction noop() {}\n\nfunction loadAssets(depList, cb) {\n  const depLength = depList.length;\n  let d = depList.length,\n    counter = 0;\n  while (d--) {\n    loadLoop(depList[d], depList[d].assets, () => {\n      if (counter === depLength - 1) {\n        cb();\n      } else {\n        counter++;\n      }\n    });\n  }\n}\n\nfunction loadLoop(ref, items, cb) {\n  const itemLength = items.length;\n  for (var i = 0; i < itemLength; i++) {\n    if (Array.isArray(items[i])) {\n      loadLoop(ref, items[i], () => {\n        items.shift();\n        loadLoop(ref, items, cb);\n      });\n      break;\n    } else {\n      let type = checkExt(items[i]);\n      loader(type, ref.basepath + items[i], () => {\n        items.shift();\n        if (items.length) {\n          loadLoop(ref, items, cb);\n        } else {\n          cb();\n        }\n      });\n      break;\n    }\n  }\n}\n\nfunction checkExt(path) {\n  const css = /\\.css$/,\n    js = /\\.js$/;\n  if (css.test(path)) { return 'css'; }\n  if (js.test(path)) { return 'js'; }\n  return null;\n}\n\nfunction loader(type, path, cb) {\n  if (type === 'js') {\n    loadJS(path, () => {\n      cb();\n    });\n  } else if (type === 'css') {\n    let ss = styles.loadCSS(path);\n    styles.onloadCSS(ss, () => {\n      cb();\n    });\n  }\n}\n"],"names":["loadJS","src","cb","ref","window","document","getElementsByTagName","script","createElement","async","defer","parentNode","insertBefore","onload","loadCSS","href","before","media","doc","ss","refs","body","childNodes","length","sheets","styleSheets","rel","ready","nextSibling","onloadcssdefined","resolvedHref","i","loadCB","addEventListener","removeEventListener","onloadCSS","callback","called","newcb","call","attachEvent","navigator","plugin","versions","pluginObj","name","basepath","priority","charts","__charttoolversion","assets","Object","keys","exports","charttool","jquery","bootstrap","tablesaw","turntable","__turntable","deps","d","headers","footers","forEach","type","arr","push","noop","loadAssets","depList","depLength","counter","loadLoop","items","itemLength","Array","isArray","shift","checkExt","path","css","js","test","loader","styles"],"mappings":"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"}